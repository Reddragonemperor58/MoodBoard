import{a as H,g as N,r as n}from"./react-CSMeLsXS.js";var Y=H();const re=N(Y),$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M=$?n.useLayoutEffect:n.useEffect;function L(e){const t=n.useRef(e);return M(()=>{t.current=e}),n.useCallback(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t.current==null?void 0:t.current(...s)},[])}function y(e,t){t===void 0&&(t=[e]);const r=n.useRef(e);return M(()=>{r.current!==e&&(r.current=e)},t),r}function G(e){const t=L(e),r=n.useRef(null),s=n.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,s]}let v={};function J(e,t){return n.useMemo(()=>{const r=v[e]==null?0:v[e]+1;return v[e]=r,e+"-"+r},[e,t])}var d;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(d||(d={}));function I(){}const Q=Object.freeze({x:0,y:0});var u;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(u||(u={}));var x;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(x||(x={}));var c;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(c||(c={}));c.Space,c.Enter,c.Esc,c.Space,c.Enter,c.Tab;var F;(function(e){e[e.RightClick=2]="RightClick"})(F||(F={}));var T;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(T||(T={}));var U;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(U||(U={}));u.Backward+"",u.Forward+"",u.Backward+"",u.Forward+"";var R;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(R||(R={}));var w;(function(e){e.Optimized="optimized"})(w||(w={}));function S(e){let{callback:t,disabled:r}=e;const s=L(t),a=n.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(s)},[r]);return n.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}R.WhileDragging,w.Optimized;const Z={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:I,draggableNodes:new Map,over:null,measureDroppableContainers:I},A=n.createContext(Z);({...Q});var B;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(B||(B={}));const _="Droppable",K={timeout:25};function ne(e){let{data:t,disabled:r=!1,id:s,resizeObserverConfig:a}=e;const o=J(_),{active:z,dispatch:f,over:b,measureDroppableContainers:q}=n.useContext(A),h=n.useRef({disabled:r}),g=n.useRef(!1),C=n.useRef(null),p=n.useRef(null),{disabled:P,updateMeasurementsFor:O,timeout:m}={...K,...a},D=y(O??s),W=n.useCallback(()=>{if(!g.current){g.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{q(Array.isArray(D.current)?D.current:[D.current]),p.current=null},m)},[m]),i=S({callback:W,disabled:P||!z}),j=n.useCallback((E,k)=>{i&&(k&&(i.unobserve(k),g.current=!1),E&&i.observe(E))},[i]),[l,V]=G(j),X=y(t);return n.useEffect(()=>{!i||!l.current||(i.disconnect(),g.current=!1,i.observe(l.current))},[l,i]),n.useEffect(()=>(f({type:d.RegisterDroppable,element:{id:s,key:o,disabled:r,node:l,rect:C,data:X}}),()=>f({type:d.UnregisterDroppable,key:o,id:s})),[s]),n.useEffect(()=>{r!==h.current.disabled&&(f({type:d.SetDroppableDisabled,id:s,key:o,disabled:r}),h.current.disabled=r)},[s,o,r,f]),{active:z,rect:C,isOver:(b==null?void 0:b.id)===s,node:l,over:b,setNodeRef:V}}export{re as R,Y as r,ne as u};
//# sourceMappingURL=dnd-CyFmz64M.js.map
